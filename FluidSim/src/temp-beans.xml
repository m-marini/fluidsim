<?xml version="1.0" encoding="UTF-8"?>
<!-- $Id: temp-beans.xml,v 1.5 2007/08/18 08:29:57 marco Exp $ -->
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "spring-beans.dtd" >
<beans>
	<alias alias="universeModifier"
		name="heatCooledHoledShieldUniverseModifier" />

	<!-- Universe modifiers -->

	<bean id="heatCooledHoledShieldUniverseModifier"
		class="org.mmarini.fluid.model.CompositeModifier">
		<property name="list">
			<list>
				<ref bean="heatCooledUniverseModifier" />
				<ref bean="holedShieldUniverseModifier" />
			</list>
		</property>
	</bean>

	<bean id="heatCooledShieldUniverseModifier"
		class="org.mmarini.fluid.model.CompositeModifier">
		<property name="list">
			<list>
				<ref bean="heatCooledUniverseModifier" />
				<ref bean="shieldUniverseModifier" />
			</list>
		</property>
	</bean>

	<bean id="heatCooledUniverseModifier"
		class="org.mmarini.fluid.model.CompositeModifier">
		<property name="list">
			<list>
				<ref bean="backgroundModifier" />
				<ref bean="leftHeaterModifier" />
				<ref bean="rightCoolerModifier" />
			</list>
		</property>
	</bean>

	<bean id="holedShieldUniverseModifier"
		class="org.mmarini.fluid.model.CompositeModifier">
		<property name="list">
			<list>
				<ref bean="lowerShieldUniverseModifier" />
				<ref bean="upperShieldUniverseModifier" />
			</list>
		</property>
	</bean>

	<bean id="lowerShieldUniverseModifier"
		class="org.mmarini.fluid.model.LineModifier">
		<property name="cellModifier" ref="shieldCellModifier" />
		<property name="x0" value="0.5" />
		<property name="y0" value="0" />
		<property name="x1" value="0.5" />
		<property name="y1" value="0.333" />
	</bean>

	<bean id="upperShieldUniverseModifier"
		class="org.mmarini.fluid.model.LineModifier">
		<property name="cellModifier" ref="shieldCellModifier" />
		<property name="x0" value="0.5" />
		<property name="y0" value="0.667" />
		<property name="x1" value="0.5" />
		<property name="y1" value="1" />
	</bean>

	<bean id="shieldUniverseModifier"
		class="org.mmarini.fluid.model.LineModifier">
		<property name="cellModifier" ref="shieldCellModifier" />
		<property name="x0" value="0.5" />
		<property name="y0" value="0.25" />
		<property name="x1" value="0.5" />
		<property name="y1" value="0.75" />
	</bean>

	<bean id="heatUniverseModifier"
		class="org.mmarini.fluid.model.CompositeModifier">
		<property name="list">
			<list>
				<ref bean="backgroundModifier" />
				<ref bean="centeredHeaterModifier" />
			</list>
		</property>
	</bean>

	<bean id="leftHeaterModifier"
		class="org.mmarini.fluid.model.PointModifier">
		<property name="cellModifier" ref="heaterCellModifier" />
		<property name="x" value="0.25" />
		<property name="y" value="0.5" />
	</bean>

	<bean id="rightCoolerModifier"
		class="org.mmarini.fluid.model.PointModifier">
		<property name="cellModifier" ref="coolerCellModifier" />
		<property name="x" value="0.75" />
		<property name="y" value="0.5" />
	</bean>

	<bean id="centeredHeaterModifier"
		class="org.mmarini.fluid.model.PointModifier">
		<property name="cellModifier" ref="heaterCellModifier" />
		<property name="x" value="0.5" />
		<property name="y" value="0.5" />
	</bean>

	<bean id="backgroundModifier"
		class="org.mmarini.fluid.model.RectangleModifier">
		<property name="cellModifier"
			ref="initialCompositeCellModifier" />
		<property name="x0" value="0" />
		<property name="y0" value="0" />
		<property name="x1" value="1" />
		<property name="y1" value="1" />
	</bean>

	<!-- Cell modifiers -->

	<bean id="shieldCellModifier"
		class="org.mmarini.fluid.model.FunctionModifier">
		<property name="cellFunction" ref="coolerCellFunction" />
		<property name="relationFunction" ref="shieldRelationFunction" />
	</bean>

	<bean id="coolerCellModifier"
		class="org.mmarini.fluid.model.FunctionModifier">
		<property name="cellFunction" ref="coolerCellFunction" />
		<property name="relationFunction"
			ref="backgroundRelationFunction" />
	</bean>

	<bean id="heaterCellModifier"
		class="org.mmarini.fluid.model.FunctionModifier">
		<property name="cellFunction" ref="heaterCellFunction" />
		<property name="relationFunction"
			ref="backgroundRelationFunction" />
	</bean>

	<bean id="initialMaterialCellModifier"
		class="org.mmarini.fluid.model.FunctionModifier">
		<property name="cellFunction" ref="backgroundCellFunction" />
		<property name="relationFunction"
			ref="backgroundRelationFunction" />
	</bean>

	<bean id="initialCompositeCellModifier"
		class="org.mmarini.fluid.model.CompositeCellModifier">
		<property name="list">
			<list>
				<ref bean="initalValueCellModifier" />
				<ref bean="initialMaterialCellModifier" />
			</list>
		</property>
	</bean>

	<bean id="initalValueCellModifier"
		class="org.mmarini.fluid.model.ValueCellModifier">
		<property name="cellValue" value="0" />
		<property name="rightRelation" value="0" />
		<property name="upRightRelation" value="0" />
		<property name="upLeftRelation" value="0" />
	</bean>

	<!-- Cell functions -->

	<bean id="backgroundCellFunction"
		class="org.mmarini.fluid.model.IsomorphCellFunction">
		<property name="function" ref="conservativeFunction" />
	</bean>

	<bean id="coolerCellFunction"
		class="org.mmarini.fluid.model.IsomorphCellFunction">
		<property name="function" ref="coolerFunction" />
	</bean>

	<bean id="heaterCellFunction"
		class="org.mmarini.fluid.model.IsomorphCellFunction">
		<property name="function" ref="heaterFunction" />
	</bean>

	<!-- Relation functions -->

	<bean id="backgroundRelationFunction"
		class="org.mmarini.fluid.model.DefaultRelationFunction">
		<property name="function" ref="diffusionFunction" />
	</bean>

	<bean id="shieldRelationFunction"
		class="org.mmarini.fluid.model.DefaultRelationFunction">
		<property name="function" ref="coolerFunction" />
	</bean>

	<!-- Differential functions -->

	<bean id="coolerFunction"
		class="org.mmarini.fluid.model.ConstantFunction">
		<property name="value" value="0" />
	</bean>

	<bean id="heaterFunction"
		class="org.mmarini.fluid.model.ConstantFunction">
		<property name="value" value="1" />
	</bean>

	<bean id="diffusionFunction"
		class="org.mmarini.fluid.model.DiffusionFunction">
		<property name="diffusion" value="1e0" />
	</bean>

	<bean id="conservativeFunction"
		class="org.mmarini.fluid.model.ConservativeFunction" />
</beans>
